import{r as a,j as l}from"./app-CAHxE6qR.js";import{u as le,c as v,a as W,b as ue,P as O,R as de,h as fe,g as ge,F as pe,i as ve,e as Ee,d as R,f as De}from"./Combination-Ditgza0Z.js";import{u as m,d as he}from"./button-q_DT5Xf7.js";import{P as h,d as me}from"./index-Cb5HZPd5.js";var Ce="DismissableLayer",b="dismissableLayer.update",ye="dismissableLayer.pointerDownOutside",xe="dismissableLayer.focusOutside",S,B=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),k=a.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:t,onInteractOutside:i,onDismiss:c,...g}=e,u=a.useContext(B),[f,x]=a.useState(null),E=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,oe]=a.useState({}),re=m(n,d=>x(d)),w=Array.from(u.layers),[se]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),ae=w.indexOf(se),A=f?w.indexOf(f):-1,ie=u.layersWithOutsidePointerEventsDisabled.size>0,L=A>=ae,ce=be(d=>{const C=d.target,j=[...u.branches].some(P=>P.contains(C));!L||j||(o==null||o(d),i==null||i(d),d.defaultPrevented||c==null||c())},E),F=Oe(d=>{const C=d.target;[...u.branches].some(P=>P.contains(C))||(t==null||t(d),i==null||i(d),d.defaultPrevented||c==null||c())},E);return le(d=>{A===u.layers.size-1&&(s==null||s(d),!d.defaultPrevented&&c&&(d.preventDefault(),c()))},E),a.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(S=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),M(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=S)}},[f,E,r,u]),a.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),M())},[f,u]),a.useEffect(()=>{const d=()=>oe({});return document.addEventListener(b,d),()=>document.removeEventListener(b,d)},[]),l.jsx(h.div,{...g,ref:re,style:{pointerEvents:ie?L?"auto":"none":void 0,...e.style},onFocusCapture:v(e.onFocusCapture,F.onFocusCapture),onBlurCapture:v(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:v(e.onPointerDownCapture,ce.onPointerDownCapture)})});k.displayName=Ce;var Pe="DismissableLayerBranch",Re=a.forwardRef((e,n)=>{const r=a.useContext(B),s=a.useRef(null),o=m(n,s);return a.useEffect(()=>{const t=s.current;if(t)return r.branches.add(t),()=>{r.branches.delete(t)}},[r.branches]),l.jsx(h.div,{...e,ref:o})});Re.displayName=Pe;function be(e,n=globalThis==null?void 0:globalThis.document){const r=W(e),s=a.useRef(!1),o=a.useRef(()=>{});return a.useEffect(()=>{const t=c=>{if(c.target&&!s.current){let g=function(){G(ye,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=g,n.addEventListener("click",o.current,{once:!0})):g()}else n.removeEventListener("click",o.current);s.current=!1},i=window.setTimeout(()=>{n.addEventListener("pointerdown",t)},0);return()=>{window.clearTimeout(i),n.removeEventListener("pointerdown",t),n.removeEventListener("click",o.current)}},[n,r]),{onPointerDownCapture:()=>s.current=!0}}function Oe(e,n=globalThis==null?void 0:globalThis.document){const r=W(e),s=a.useRef(!1);return a.useEffect(()=>{const o=t=>{t.target&&!s.current&&G(xe,r,{originalEvent:t},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function M(){const e=new CustomEvent(b);document.dispatchEvent(e)}function G(e,n,r,{discrete:s}){const o=r.originalEvent.target,t=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&o.addEventListener(e,n,{once:!0}),s?me(o,t):o.dispatchEvent(t)}var _="Dialog",[U,ke]=ue(_),[_e,p]=U(_),$=e=>{const{__scopeDialog:n,children:r,open:s,defaultOpen:o,onOpenChange:t,modal:i=!0}=e,c=a.useRef(null),g=a.useRef(null),[u=!1,f]=Ee({prop:s,defaultProp:o,onChange:t});return l.jsx(_e,{scope:n,triggerRef:c,contentRef:g,contentId:R(),titleId:R(),descriptionId:R(),open:u,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(x=>!x),[f]),modal:i,children:r})};$.displayName=_;var H="DialogTrigger",Ne=a.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=p(H,r),t=m(n,o.triggerRef);return l.jsx(h.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":T(o.open),...s,ref:t,onClick:v(e.onClick,o.onOpenToggle)})});Ne.displayName=H;var N="DialogPortal",[Ie,z]=U(N,{forceMount:void 0}),V=e=>{const{__scopeDialog:n,forceMount:r,children:s,container:o}=e,t=p(N,n);return l.jsx(Ie,{scope:n,forceMount:r,children:a.Children.map(s,i=>l.jsx(O,{present:r||t.open,children:l.jsx(De,{asChild:!0,container:o,children:i})}))})};V.displayName=N;var y="DialogOverlay",Y=a.forwardRef((e,n)=>{const r=z(y,e.__scopeDialog),{forceMount:s=r.forceMount,...o}=e,t=p(y,e.__scopeDialog);return t.modal?l.jsx(O,{present:s||t.open,children:l.jsx(Te,{...o,ref:n})}):null});Y.displayName=y;var Te=a.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=p(y,r);return l.jsx(de,{as:he,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(h.div,{"data-state":T(o.open),...s,ref:n,style:{pointerEvents:"auto",...s.style}})})}),D="DialogContent",q=a.forwardRef((e,n)=>{const r=z(D,e.__scopeDialog),{forceMount:s=r.forceMount,...o}=e,t=p(D,e.__scopeDialog);return l.jsx(O,{present:s||t.open,children:t.modal?l.jsx(we,{...o,ref:n}):l.jsx(Ae,{...o,ref:n})})});q.displayName=D;var we=a.forwardRef((e,n)=>{const r=p(D,e.__scopeDialog),s=a.useRef(null),o=m(n,r.contentRef,s);return a.useEffect(()=>{const t=s.current;if(t)return fe(t)},[]),l.jsx(K,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:v(e.onCloseAutoFocus,t=>{var i;t.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:v(e.onPointerDownOutside,t=>{const i=t.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&t.preventDefault()}),onFocusOutside:v(e.onFocusOutside,t=>t.preventDefault())})}),Ae=a.forwardRef((e,n)=>{const r=p(D,e.__scopeDialog),s=a.useRef(!1),o=a.useRef(!1);return l.jsx(K,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,t),t.defaultPrevented||(s.current||(c=r.triggerRef.current)==null||c.focus(),t.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:t=>{var g,u;(g=e.onInteractOutside)==null||g.call(e,t),t.defaultPrevented||(s.current=!0,t.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=t.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&o.current&&t.preventDefault()}})}),K=a.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:t,...i}=e,c=p(D,r),g=a.useRef(null),u=m(n,g);return ge(),l.jsxs(l.Fragment,{children:[l.jsx(pe,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:t,children:l.jsx(k,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":T(c.open),...i,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Le,{titleId:c.titleId}),l.jsx(je,{contentRef:g,descriptionId:c.descriptionId})]})]})}),I="DialogTitle",X=a.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=p(I,r);return l.jsx(h.h2,{id:o.titleId,...s,ref:n})});X.displayName=I;var Z="DialogDescription",J=a.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=p(Z,r);return l.jsx(h.p,{id:o.descriptionId,...s,ref:n})});J.displayName=Z;var Q="DialogClose",ee=a.forwardRef((e,n)=>{const{__scopeDialog:r,...s}=e,o=p(Q,r);return l.jsx(h.button,{type:"button",...s,ref:n,onClick:v(e.onClick,()=>o.onOpenChange(!1))})});ee.displayName=Q;function T(e){return e?"open":"closed"}var te="DialogTitleWarning",[Ge,ne]=ve(te,{contentName:D,titleName:I,docsSlug:"dialog"}),Le=({titleId:e})=>{const n=ne(te),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Fe="DialogDescriptionWarning",je=({contentRef:e,descriptionId:n})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ne(Fe).contentName}}.`;return a.useEffect(()=>{var t;const o=(t=e.current)==null?void 0:t.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(s))},[s,e,n]),null},Ue=$,$e=V,He=Y,ze=q,Ve=X,Ye=J,qe=ee;export{ze as C,Ye as D,He as O,$e as P,Ue as R,Ve as T,qe as a};
